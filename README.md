基于 Spresense 的本地语音识别与声源方向估计系统

项目简介：  
本项目基于 Sony Spresense 开发板，实现了一个低功耗、本地化运行的语音识别与声源方向估计系统。
通过多麦克风协同处理，完成关键词识别（KWS）和声源方向判断（DOA），适用于智能家居控制、机器人听觉感知等场景。

核心优势：  
本地化处理：不依赖云端，隐私更安全。
空间感知能力：多麦克风协同，支持声源方向估计。
嵌入式部署：轻量级算法适配嵌入式平台，体现软硬件结合能力。

技术栈
类别 使用技术  
硬件平台 Sony Spresense 开发板（支持多麦克风输入）  
操作系统 NuttX RTOS（通过 Spresense SDK 开发）  
编程语言 C/C++  
音频处理 MFCC（梅尔频率倒谱系数）、FFT（快速傅里叶变换）、端点检测（VAD）  
关键词识别 PicoVoice KWS 模型 / 自定义轻量级模型  
方向估计 Delay-and-Sum Beamforming 算法 / DOA（声源方向估计）算法  
通信接口 UART（串口通信）、SPI（扩展接口）  

功能模块  
模块名称 功能说明  
音频采集模块 利用 Spresense 的多麦克风接口（如 I2S 麦克风阵列）进行实时声音采集。  
语音识别模块 实现本地关键词识别（KWS），支持自定义唤醒词（如“你好，世界”）。  
声源定位模块 基于波束成形（Beamforming）算法，估计声源方向（如 0°、90°、180° 等）。  
控制输出模块 将识别结果（关键词）和声源方向信息通过 UART 串口发送给主机设备。  

硬件连接  
麦克风阵列：通过 Spresense 的 I2S 接口连接多麦克风（如 2/4 麦克风阵列）。  
串口通信：使用 UART 接口（如 Serial1）与主机设备交互。  
扩展接口：SPI 接口可用于外接传感器或存储设备。  

软件架构  
初始化阶段：  
配置音频采样率、通道数。  
初始化 KWS 模型和 DOA 算法参数。  

主循环：  
实时采集音频数据并存储到缓冲区。  
调用 KWS 模型检测关键词。  
调用 DOA 算法计算声源方向。  
通过串口输出结果（如 "WAKEUP,180" 表示检测到唤醒词且声源在 180° 方向）。  

使用示例  
启动系统：  
上电后，系统自动初始化并等待指令。  

串口交互：  
输入 start 开始录音并检测。  
输入 stop 停止录音。  
输入 help 查看帮助信息。  

输出结果：  
检测到唤醒词时，串口输出："WAKEUP,90"（关键词 + 方向）。  
未检测到关键词时，仅输出方向信息（如 "NOISE,45"）。  

使用 FFT 相位差计算 DOA  
原理：通过两个麦克风信号的频域相位差，估算声波到达的时间差，从而推导出声源方向。  

🧮 算法原理简述  
对两个通道的音频信号分别做 FFT  
计算每个频率 bin 的 相位差  
根据平均相位差和频率，计算 时间差 Δt  
利用公式计算角度： θ=arcsin( dc⋅Δt )   
其中：  
c 是声速（34300 cm/s）  
d 是麦克风间距（cm）  
Δt 是时延（秒）  

📦 所需模块  
FFT 库（如 arduinoFFT 或 CMSIS-DSP）  
音频缓冲区处理  
相位差计算函数  
角度转换函数  
